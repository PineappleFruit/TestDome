<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>自定义事件</title>
    <script src="../js/vue.js"></script>
</head>
<body>
    <div id="counter-event-example">
        <p>{{total}}</p>
        <button-counter v-on:increment="increment" ></button-counter>
        <button-counter v-on:increment="increment" ></button-counter>
    </div>

    <script type="text/javascript">
        window.onload = function () {
            Vue.component('button-counter',{
                template:'<button v-on:click="increment">{{counter}}</button>',
//                重新定义了一个方法
                data:function () {
                    return{
                        counter:0
                    }
//                    初始化，避免两个按钮上的值显示的一样
                },
                methods:{
                    increment:function () {
                        this.counter +=1
//                        获得按钮当前的值并加一
                        this.$emit('increment')
//                        触发监听事件
                    }
                },
            })
            new Vue({
                el:'#counter-event-example',
                data:{
                    total:0
                },
                method:{
                    incrementTotal:function () {
                        this.total +=1
//                        计算total的值，总共点击的次数
                    }
                }
            })
        }
    </script>
</body>
</html>